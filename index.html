<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Wanderers of the 16 Stars</title>
    <link rel='icon' type='image/x-icon' href='favicon.ico'>
    <link rel='stylesheet' href='style.css'>
    <script src='flipbook.js' defer></script>
</head>
<body>
<!-- Previous Button -->
<button id='prev-btn'>
    ◀
</button>

<script>
    preload = 5;
    const NumofSides = 216;
    const NumofPages = Math.ceil(NumofSides / 2);
    const bookMake = document.createElement('div');
    bookMake.className = 'book';
    bookMake.id = 'book';
    var pages = [];
    for (let p = 0; p < NumofSides; p++) {
        if (p % 2 === 0) {
            pages[p] = document.createElement('div');
            pages[p].className = 'front';
            const frontContent = document.createElement('img');
            frontContent.className = 'front-content';
            if (p < preload) {
                frontContent.src = 'pages/' +'Wanderers'+(p+1)+'.png';
                // frontContent.alt = 'Page ' + p;
            }
            pages[p].appendChild(frontContent)
        } else {
            pages[p] = document.createElement('div');
            pages[p].className = 'back';
            const backContent = document.createElement('img');
            backContent.className = 'back-content';
            if (p < preload) {
                backContent.src = 'pages/' +'Wanderers'+(p+1)+'.png';
                // backContent.alt = 'Page ' + p;
            }
            pages[p].appendChild(backContent)

            const paper = document.createElement('div');
            paper.className = 'paper';
            paper.id = '#p'+ Math.floor(p / 2)
            paper.style.zIndex = NumofPages - Math.floor(p / 2);
            paper.appendChild(pages[p-1]);
            paper.appendChild(pages[p]);
            bookMake.appendChild(paper);
        }
    }
    document.body.appendChild(bookMake);
</script>

<!-- Next Button -->
<button id='next-btn'>
    ▶
</button>

<script>
    let check = [];
    const key = 'pleasehelpme';
    document.addEventListener('keydown', function(event) {
        switch(event.key){
            case 'ArrowLeft':
                goPrevPage();
                break;
            case 'ArrowRight':
                goNextPage();
                break;
            default:
                check.push(event.key)
                break;
        }
        if (check.length > key.length) {
            check.shift()
        }

        if (check.join('') === key) {
            var chaz = document.createElement('img');
            chaz.src = 'pages/' +'Wanderers82chaz.webp';
            chaz.style.position = 'fixed';
            chaz.style.top = 0;
            chaz.style.left = 0;
            chaz.style.width = '100%';
            chaz.style.height = '100%';
            chaz.style.backgroundColor = [0, 0, 0, 0.5];
            chaz.style.zIndex = NumofPages+1
            document.body.appendChild(chaz);
        }
    });
</script>
</body>
</html>